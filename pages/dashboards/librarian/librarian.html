<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="scripts.js"></script>
    <title>Librarian Dashboard</title>
</head>
<body>
    <div class="w3-bar w3-mobile">
        <a href="/" class="w3-bar-item w3-button w3-mobile">Home</a>
        <a href="/login" class="w3-bar-item w3-button w3-mobile">Login</a>
        <div class="w3-dropdown-hover">
            <button class="w3-button">Dashboards</button>
            <div class="w3-dropdown-content w3-bar-block w3-card-4">
              <a href="/dashboards/visitor" class="w3-bar-item w3-button">Visitor</a>
              <a href="/dashboards/librarian" class="w3-bar-item w3-button">Librarian</a>
              <a href="/dashboards/admin" class="w3-bar-item w3-button">Admin</a>
            </div>
        </div>
    </div> 

    <div class="w3-container w3-mobile" id="librarian-header">
        <h1 id="heading">Welcome, Librarian.</h1>
        <p>Pick an option below to search through the library, or to process book requests and returns:</p>
    </div>

    <div class="tab w3-container w3-mobile">
        <button class="tablinks" id="toggle-show-all">Show All</button>
        <button class="tablinks" id="toggle-search">Search</button>
        <button class="tablinks" id="toggle-request-list">Show All Requests</button>
        <button class="tablinks" id="toggle-loaner-list">Show All Loaners</button>
        <button class="tablinks" id="toggle-check-out">Check Out</button>
        <button class="tablinks" id="toggle-returns">Return Books</button>
    </div>

    <!-- Tab content -->
    <div id="show-all" class="w3-container w3-mobile">
        <p>All books available in the library:</p>
        <table id="output-all-table"></table>
        <button class="w3-button" onclick="prevPage()">Previous</button>
        <button class="w3-button" onclick="nextPage()">Next</button>
    </div>
  
    <div id="search" class="w3-container w3-mobile">
        <p>Select an option from below and input your keyword related to the book(s) you are searching for.</p>
        <label>Searching for:</label>
        <select id="search_type">
            <option value="ISBN">ISBN</option>
            <option value="Book_name">Book Name</option>
            <option value="Author">Author</option>
            <option value="Genre">Genre</option>
        </select>
        <input type="text" id="search_value">
        <button id="submit_search">Submit</button>
        <table id="search-table"></table>
        <button class="w3-button" onclick="prevPage()">Previous</button>
        <button class="w3-button" onclick="nextPage()">Next</button>
    </div>

    <div id="request-list" class="w3-container w3-mobile">
        <p>Current request list:</p>
        <table id="output-request-table"></table>
        <button class="w3-button" onclick="prevPage()">Previous</button>
        <button class="w3-button" onclick="nextPage()">Next</button>
    </div>

    <div id="loaner-list" class="w3-container w3-mobile">
        <p>Current loaner list:</p>
        <table id="output-loaner-table"></table>
        <button class="w3-button" onclick="prevPage()">Previous</button>
        <button class="w3-button" onclick="nextPage()">Next</button>
    </div>
  
    <div id="check-out" class="w3-container w3-mobile">
        <p>Input the book request information ID from the request list and set how long the visitor can loan the book for.</p>
        <p>This will move the request information to loaner list and attach your librarian ID as the one who authorized the book loan.</p>
        <p>Note: accepting book request will decrement book availability (as count) by one in the library. </p>
        <label>Set time and input the request ID to process book loaning:</label>
        <select id="loan-duration">
            <option value="1_week">One Week</option>
            <option value="2_weeks">Two Weeks</option>
            <option value="1_month">One Month (30 days)</option>
        </select>
        <input type="text" id="requesting_ID">
        <button id="process_loan">Submit</button>
        <p id ="output-message"></p>
    </div>
  
    <div id="returns" class="w3-container w3-mobile">
        <p>Process book returns from a visitor by inputting the loaner ID from the list.</p>
        <p>This will remove the loaner information from the list and increment that book's availability back by one.</p>
        <p>Note: Do absolutely be aware that the loaner have properly returned the book before the loan due date.</p>
        <p>Once the return has been processed, the system will delete the associated loaner information.</p>
        <label>Input the loaner information ID:</label>
        <input type="text" id="loaner_ID">
        <button id="return_book">Submit</button>
        <p id ="output-message"></p>
    </div>
</body>
</html>